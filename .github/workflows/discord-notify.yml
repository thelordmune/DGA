name: Discord Push Notification

on:
  push:
    branches: [ main, master ]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
    - name: Send Discord Notification
      run: |
        # Replace YOUR_DISCORD_WEBHOOK_URL with your actual webhook URL
        DISCORD_WEBHOOK="https://discordapp.com/api/webhooks/1419064748238180423/rQzkMO5ZErFf5YfZbnspMth8uxWm2rZEsY7U2pd6dTop-yn7zXExeVxO-wWAT7wXUiA0"

        # Create simple JSON payload with just commit message
        cat << EOF > payload.json
        {
          "content": "ï¿½ **${{ github.event.head_commit.message }}**"
        }
        EOF

        # Send the webhook
        curl -H "Content-Type: application/json" \
             -X POST \
             -d @payload.json \
             "$DISCORD_WEBHOOK"
